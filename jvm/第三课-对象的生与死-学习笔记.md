# ç¬¬ä¸‰è¯¾ï¼šå¯¹è±¡çš„ç”Ÿä¸æ­» - å†…å­˜å›æ”¶çš„å¥¥ç§˜

> å½“mainçº¿ç¨‹åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè¿™äº›å¯¹è±¡æœ€ç»ˆä¼šå»å“ªé‡Œï¼Ÿ

---

*æœ¬è¯¾ç¨‹åŸºäºOracle JVM Specificationå’ŒOpenJDKæºç ï¼Œç¡®ä¿æŠ€æœ¯å†…å®¹çš„å‡†ç¡®æ€§å’Œæƒå¨æ€§ã€‚*

## å¼€ç¯‡ï¼šä»ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡å¼€å§‹

ä¸ŠèŠ‚è¯¾æˆ‘ä»¬å‘ç°ï¼šå½“mainçº¿ç¨‹æ‰§è¡Œä»£ç æ—¶ï¼Œä¼šåœ¨å †å†…å­˜ä¸­åˆ›å»ºå¯¹è±¡ï¼Œè€Œä¸”ä¸åŒçš„ä»£ç ä¼šå ç”¨ä¸åŒçš„å†…å­˜ã€‚

**ä½†æ˜¯ï¼Œè®©æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼š**

```java
// è¿è¡Œè¿™æ®µä»£ç ï¼Œè§‚å¯Ÿå†…å­˜ä½¿ç”¨æƒ…å†µ
public class StrangeMemory {
    public static void main(String[] args) throws InterruptedException {
        System.out.println("ç¨‹åºå¼€å§‹ï¼Œè§‚å¯Ÿå†…å­˜...");
        Thread.sleep(3000);
        
        // åˆ›å»º100ä¸‡ä¸ªå¯¹è±¡
        for (int i = 0; i < 1000000; i++) {
            String obj = new String("å¯¹è±¡" + i);
        }
        
        System.out.println("å¯¹è±¡åˆ›å»ºå®Œæˆï¼Œç»§ç»­è§‚å¯Ÿå†…å­˜...");
        Thread.sleep(10000);  // ç­‰å¾…10ç§’
        
        System.out.println("ç¨‹åºå³å°†ç»“æŸ");
    }
}
```

**å¥‡æ€ªçš„ç°è±¡ï¼š**
- ç¨‹åºè¿è¡Œæ—¶ï¼Œå†…å­˜ä½¿ç”¨é‡ä¼šä¸Šå‡
- ä½†æ˜¯ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå†…å­˜ä½¿ç”¨é‡ç«Ÿç„¶ä¸‹é™äº†ï¼
- æ˜æ˜åˆ›å»ºäº†100ä¸‡ä¸ªå¯¹è±¡ï¼Œä¸ºä»€ä¹ˆå†…å­˜ä¼šè‡ªåŠ¨å‡å°‘ï¼Ÿ

**ä»Šå¤©æˆ‘ä»¬è¦æ¢ç´¢çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šè¿™äº›åˆ›å»ºçš„å¯¹è±¡å»å“ªé‡Œäº†ï¼Ÿ**

## æ ¸å¿ƒè®¤çŸ¥ï¼šä»å†…å­˜å˜åŒ–çš„çœŸå®ç°è±¡å¼€å§‹

### ğŸ¯ ç°è±¡ä¸€ï¼šéªŒè¯å¯¹è±¡çœŸçš„"æ¶ˆå¤±"äº†

åˆšæ‰æˆ‘ä»¬è§‚å¯Ÿåˆ°äº†å¥‡æ€ªçš„ç°è±¡ï¼šå†…å­˜ä¼šè‡ªåŠ¨å‡å°‘ã€‚è®©æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªæ›´ç²¾ç¡®çš„å®éªŒæ¥éªŒè¯è¿™ä¸ªç°è±¡ï¼š

**å®éªŒè®¾è®¡ï¼š**
```java
// ObjectDisappear.java
public class ObjectDisappear {
    public static void main(String[] args) throws InterruptedException {
        System.out.println("=== å¯¹è±¡æ¶ˆå¤±å®éªŒ ===");
        
        // é˜¶æ®µ1ï¼šè§‚å¯Ÿåˆå§‹å†…å­˜
        System.out.println("é˜¶æ®µ1ï¼šç¨‹åºåˆšå¯åŠ¨ï¼Œè§‚å¯Ÿåˆå§‹å†…å­˜çŠ¶æ€...");
        Thread.sleep(3000);
        
        // é˜¶æ®µ2ï¼šåˆ›å»ºå¤§é‡å¯¹è±¡
        System.out.println("é˜¶æ®µ2ï¼šå¼€å§‹åˆ›å»º100ä¸‡ä¸ªå¯¹è±¡...");
        for (int i = 0; i < 1000000; i++) {
            String obj = new String("å¯¹è±¡" + i);
            // æ³¨æ„ï¼šå¾ªç¯ç»“æŸåï¼Œobjå˜é‡å°±ä¸å†æŒ‡å‘ä»»ä½•å¯¹è±¡äº†
        }
        
        System.out.println("é˜¶æ®µ3ï¼šå¯¹è±¡åˆ›å»ºå®Œæˆï¼Œè§‚å¯Ÿå†…å­˜å˜åŒ–...");
        Thread.sleep(5000);
        
        // é˜¶æ®µ4ï¼šç­‰å¾…JVMè‡ªåŠ¨æ¸…ç†
        System.out.println("é˜¶æ®µ4ï¼šç­‰å¾…JVMè‡ªåŠ¨å¤„ç†ï¼Œç»§ç»­è§‚å¯Ÿ...");
        Thread.sleep(10000);
        
        System.out.println("=== å®éªŒç»“æŸ ===");
    }
}
```

**å®éªŒè§‚å¯Ÿï¼š**
```bash
# è¿è¡Œå®éªŒï¼ŒåŒæ—¶ç›‘æ§å†…å­˜
javac ObjectDisappear.java
java -Xms50m -Xmx100m -XX:+PrintGC ObjectDisappear
```

**ä½ ä¼šå‘ç°ï¼š**
- é˜¶æ®µ2ï¼šå†…å­˜ä½¿ç”¨é‡æ€¥å‰§ä¸Šå‡
- é˜¶æ®µ3-4ï¼šå†…å­˜ä½¿ç”¨é‡é€æ¸ä¸‹é™
- **ç»“è®ºï¼šå¯¹è±¡çœŸçš„"æ¶ˆå¤±"äº†ï¼**

**ç°è±¡åˆ†æï¼š**
ä¸ºä»€ä¹ˆå¯¹è±¡ä¼šæ¶ˆå¤±ï¼Ÿå…³é”®åœ¨äºå¾ªç¯ç»“æŸåï¼Œå˜é‡`obj`ä¸å†æŒ‡å‘ä»»ä½•å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å°±"å¤±å»äº†ä¸»äºº"ã€‚

### ğŸ¯ ç°è±¡äºŒï¼šæœ‰"ä¸»äºº"çš„å¯¹è±¡ä¸ä¼šæ¶ˆå¤±

åˆšæ‰æˆ‘ä»¬å‘ç°ï¼šå¯¹è±¡"å¤±å»ä¸»äºº"åä¼šæ¶ˆå¤±ã€‚é‚£ä¹ˆï¼Œå¦‚æœå¯¹è±¡ä¸€ç›´æœ‰"ä¸»äºº"å‘¢ï¼Ÿ

**å®éªŒè®¾è®¡ï¼š**
```java
// ObjectOwner.java
import java.util.ArrayList;
import java.util.List;

public class ObjectOwner {
    // è¿™ä¸ªå¯¹è±¡æœ‰"æ°¸ä¹…ä¸»äºº" - è¢«staticå˜é‡å¼•ç”¨
    private static String permanentOwner = "æˆ‘æœ‰æ°¸ä¹…ä¸»äººï¼Œä¸ä¼šæ¶ˆå¤±";
    
    public static void main(String[] args) throws InterruptedException {
        System.out.println("=== å¯¹è±¡ä¸»äººå®éªŒ ===");
        
        // åˆ›å»ºä¸€ä¸ª"å¯¹è±¡æ”¶å®¹æ‰€" - ç”¨æ¥ä¿å­˜å¯¹è±¡çš„å¼•ç”¨
        List<String> objectShelter = new ArrayList<>();
        
        System.out.println("é˜¶æ®µ1ï¼šåˆ›å»ºæœ‰ä¸»äººçš„å¯¹è±¡...");
        for (int i = 0; i < 100000; i++) {
            String ownedObject = "æœ‰ä¸»äººçš„å¯¹è±¡" + i;
            objectShelter.add(ownedObject);  // å¯¹è±¡æœ‰ä¸»äººäº†ï¼
        }
        
        System.out.println("é˜¶æ®µ2ï¼šåŒæ—¶åˆ›å»ºæ— ä¸»äººçš„å¯¹è±¡...");
        createOrphanObjects();
        
        System.out.println("é˜¶æ®µ3ï¼šç­‰å¾…è§‚å¯Ÿï¼Œå“ªäº›å¯¹è±¡ä¼šæ¶ˆå¤±...");
        Thread.sleep(10000);
        
        System.out.println("æ°¸ä¹…ä¸»äººçš„å¯¹è±¡ï¼š" + permanentOwner);
        System.out.println("æ”¶å®¹æ‰€é‡Œçš„å¯¹è±¡æ•°é‡ï¼š" + objectShelter.size());
        System.out.println("=== å®éªŒç»“æŸ ===");
    }
    
    private static void createOrphanObjects() {
        // è¿™äº›å¯¹è±¡æ²¡æœ‰"ä¸»äºº"ä¿æŠ¤
        for (int i = 0; i < 100000; i++) {
            String orphan = "æ— ä¸»äººå¯¹è±¡" + i;
            // æ–¹æ³•ç»“æŸåï¼Œè¿™äº›å¯¹è±¡å°±æˆäº†"æ— ä¸»å¯¹è±¡"
        }
    }
}
```

**å®éªŒè§‚å¯Ÿï¼š**
```bash
javac ObjectOwner.java
java -Xms50m -Xmx200m -XX:+PrintGC ObjectOwner
```

**ä½ ä¼šå‘ç°ï¼š**
- æœ‰"ä¸»äºº"çš„å¯¹è±¡ï¼ˆè¢«å˜é‡å¼•ç”¨ï¼‰ï¼šä¸€ç›´å­˜åœ¨
- æ— "ä¸»äºº"çš„å¯¹è±¡ï¼ˆæ— å˜é‡å¼•ç”¨ï¼‰ï¼šå¾ˆå¿«æ¶ˆå¤±
- é•¿å¯¿å¯¹è±¡ï¼šä¸€ç›´å­˜åœ¨ç›´åˆ°ç¨‹åºç»“æŸ

**æœ¬è´¨ç†è§£ï¼š**
å¯¹è±¡çš„"å¯¿å‘½"å–å†³äºæ˜¯å¦è¿˜æœ‰å¼•ç”¨æŒ‡å‘å®ƒã€‚

### ğŸ¯ ç°è±¡ä¸‰ï¼šå½“"æ”¶å®¹æ‰€"è£…ä¸ä¸‹æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

å‰é¢æˆ‘ä»¬çœ‹åˆ°ï¼šæœ‰"ä¸»äºº"çš„å¯¹è±¡ä¸ä¼šæ¶ˆå¤±ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸æ–­åˆ›å»ºæœ‰"ä¸»äºº"çš„å¯¹è±¡ï¼Œ"æ”¶å®¹æ‰€"ï¼ˆå†…å­˜ï¼‰æ€»æœ‰è£…æ»¡çš„æ—¶å€™...

**å®éªŒè®¾è®¡ï¼š**
```java
// MemoryLimit.java
import java.util.ArrayList;
import java.util.List;

public class MemoryLimit {
    public static void main(String[] args) {
        System.out.println("=== æ”¶å®¹æ‰€å®¹é‡å®éªŒ ===");
        
        // åˆ›å»ºä¸€ä¸ª"æ”¶å®¹æ‰€"æ¥ä¿å­˜æ‰€æœ‰å¯¹è±¡
        List<byte[]> objectShelter = new ArrayList<>();
        
        try {
            System.out.println("å¼€å§‹å¾€æ”¶å®¹æ‰€é‡Œæ”¾å¯¹è±¡...");
            
            // ä¸æ–­åˆ›å»ºå¤§å¯¹è±¡å¹¶ç»™å®ƒä»¬"ä¸»äºº"
            for (int i = 0; i < 2000; i++) {
                // æ¯ä¸ªå¯¹è±¡å ç”¨1MBç©ºé—´
                byte[] bigObject = new byte[1024 * 1024];
                objectShelter.add(bigObject);  // ç»™å¯¹è±¡ä¸€ä¸ª"ä¸»äºº"
                
                if (i % 50 == 0) {
                    System.out.println("æ”¶å®¹æ‰€å·²æ”¶å®¹ " + (i + 1) + " ä¸ªå¤§å¯¹è±¡");
                }
            }
            
            System.out.println("æ‰€æœ‰å¯¹è±¡éƒ½æˆåŠŸæ”¶å®¹ï¼");
            
        } catch (OutOfMemoryError e) {
            System.out.println("\nğŸ’¥ æ”¶å®¹æ‰€è£…ä¸ä¸‹äº†ï¼");
            System.out.println("JVMè¯´ï¼š" + e.getMessage());
            System.out.println("å½“å‰æ”¶å®¹æ‰€é‡Œæœ‰ " + objectShelter.size() + " ä¸ªå¯¹è±¡");
        }
        
        System.out.println("=== å®éªŒç»“æŸ ===");
    }
}
```

**å®éªŒè§‚å¯Ÿï¼š**
```bash
javac MemoryLimit.java
java -Xms50m -Xmx100m MemoryLimit  # é™åˆ¶æœ€å¤§å†…å­˜ä¸º100MB
```

**ä½ ä¼šå‘ç°ï¼š**
- å¼€å§‹æ—¶ï¼šå¯¹è±¡é¡ºåˆ©"å…¥ä½æ”¶å®¹æ‰€"
- æ¥è¿‘æé™æ—¶ï¼šJVMå¼€å§‹"æ¸…ç†åƒåœ¾"
- è¶…è¿‡æé™æ—¶ï¼šJVMæŠ›å‡º"æ”¶å®¹æ‰€å·²æ»¡"çš„é”™è¯¯

**æœ¬è´¨ç†è§£ï¼š**
JVMä¼šè‡ªåŠ¨ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œåƒåœ¾å›æ”¶ã€‚

## å®æˆ˜ä½“éªŒï¼šè§‚å¯Ÿåƒåœ¾å›æ”¶çš„å·¥ä½œè¿‡ç¨‹

### å®éªŒä¸€ï¼šè§‚å¯Ÿåƒåœ¾å›æ”¶çš„æ—¶æœº

**æ­¥éª¤ï¼š**
1. ç¼–è¯‘å¹¶è¿è¡ŒObjectLifecycleç¨‹åº
2. æ·»åŠ GCæ—¥å¿—å‚æ•°è§‚å¯Ÿå›æ”¶è¿‡ç¨‹

```bash
# è¿è¡Œæ—¶æ·»åŠ GCæ—¥å¿—
java -XX:+PrintGC -XX:+PrintGCDetails ObjectLifecycle
```

**è§‚å¯Ÿè¦ç‚¹ï¼š**
- ä»€ä¹ˆæ—¶å€™è§¦å‘åƒåœ¾å›æ”¶ï¼Ÿ
- å›æ”¶äº†å¤šå°‘å†…å­˜ï¼Ÿ
- å›æ”¶è¿‡ç¨‹è€—æ—¶å¤šä¹…ï¼Ÿ

### å®éªŒäºŒï¼šå¯¹æ¯”æœ‰å¼•ç”¨å’Œæ— å¼•ç”¨çš„å¯¹è±¡

**æ­¥éª¤ï¼š**
1. è¿è¡ŒObjectAgeç¨‹åº
2. è§‚å¯Ÿä¸åŒç±»å‹å¯¹è±¡çš„å›æ”¶æƒ…å†µ

**è§‚å¯Ÿè¦ç‚¹ï¼š**
- å“ªäº›å¯¹è±¡è¢«å›æ”¶äº†ï¼Ÿ
- å“ªäº›å¯¹è±¡æ²¡æœ‰è¢«å›æ”¶ï¼Ÿ
- ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„å·®åˆ«ï¼Ÿ

### å®éªŒä¸‰ï¼šåˆ¶é€ å†…å­˜å‹åŠ›è§‚å¯ŸJVMååº”

**æ­¥éª¤ï¼š**
1. è¿è¡ŒMemoryPressureç¨‹åº
2. é™åˆ¶å †å†…å­˜å¤§å°è§‚å¯Ÿæ•ˆæœ

```bash
# é™åˆ¶å †å†…å­˜ä¸º50MB
java -Xmx50m -XX:+PrintGC MemoryPressure
```

**è§‚å¯Ÿè¦ç‚¹ï¼š**
- JVMå¤šä¹…è¿›è¡Œä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Ÿ
- å†…å­˜ä¸è¶³æ—¶JVMå¦‚ä½•ååº”ï¼Ÿ
- ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°OutOfMemoryErrorï¼Ÿ

## ğŸ” æ·±å…¥ç†è§£ï¼šå¯¹è±¡åœ¨JVMä¸­çš„"ç”Ÿæ´»æ•…äº‹"

é€šè¿‡å‰é¢ä¸‰ä¸ªå®éªŒï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„è§„å¾‹ï¼š
- **å®éªŒä¸€**ï¼šå¯¹è±¡ä¼š"æ¶ˆå¤±"ï¼ˆå¤±å»ä¸»äººåï¼‰
- **å®éªŒäºŒ**ï¼šæœ‰"ä¸»äºº"çš„å¯¹è±¡ä¸ä¼šæ¶ˆå¤±
- **å®éªŒä¸‰**ï¼š"æ”¶å®¹æ‰€"è£…æ»¡æ—¶JVMä¼šæŠ¥é”™

ç°åœ¨è®©æˆ‘ä»¬ç”¨ç”Ÿæ´»åŒ–çš„æ–¹å¼ç†è§£è¿™èƒŒåçš„å®Œæ•´æ•…äº‹ï¼š

### ğŸ“– å¯¹è±¡çš„"ç”Ÿæ´»æ•…äº‹"

æƒ³è±¡JVMå†…å­˜å°±åƒä¸€ä¸ªå·¨å¤§çš„"å¯¹è±¡æ”¶å®¹æ‰€"ï¼Œæ¯ä¸ªJavaå¯¹è±¡éƒ½æ˜¯æ”¶å®¹æ‰€é‡Œçš„"å±…æ°‘"ï¼š

#### ğŸ  ç¬¬ä¸€ç« ï¼šå¯¹è±¡çš„"å…¥ä½" 
```java
String obj = new String("Hello");  // ä¸€ä¸ªæ–°å±…æ°‘å…¥ä½
```
**å‘ç”Ÿçš„äº‹æƒ…ï¼š**
- æ”¶å®¹æ‰€ç®¡ç†å‘˜ï¼ˆJVMï¼‰åˆ†é…ä¸€ä¸ªæˆ¿é—´ï¼ˆå †å†…å­˜ç©ºé—´ï¼‰
- æ–°å±…æ°‘æ¬è¿›æˆ¿é—´å¹¶å®‰é¡¿å¥½ï¼ˆå¯¹è±¡åˆå§‹åŒ–ï¼‰
- ç»™å±…æ°‘ä¸€ä¸ªé—¨ç‰Œå·ï¼Œå˜é‡`obj`è®°ä½è¿™ä¸ªé—¨ç‰Œå·

#### ğŸ‘¥ ç¬¬äºŒç« ï¼šå¯¹è±¡çš„"ç¤¾äº¤ç”Ÿæ´»"
```java
String friend1 = obj;  // friend1ä¹Ÿè®¤è¯†è¿™ä¸ªå±…æ°‘
String friend2 = obj;  // friend2ä¹Ÿè®¤è¯†è¿™ä¸ªå±…æ°‘
```
**å…³é”®å‘ç°ï¼š**
- ä¸€ä¸ªå±…æ°‘å¯ä»¥è¢«å¤šä¸ª"æœ‹å‹"è®¤è¯†
- åªè¦è¿˜æœ‰æœ‹å‹è®°å¾—å®ƒï¼Œå±…æ°‘å°±ä¸ä¼šè¢«"é—å¿˜"
- è¿™äº›"æœ‹å‹"å°±æ˜¯æˆ‘ä»¬è¯´çš„"å¼•ç”¨"

#### ğŸ˜¢ ç¬¬ä¸‰ç« ï¼šå¯¹è±¡å¤±å»ä¸»äºº
```java
obj = null;     // objå¿˜è®°äº†è¿™ä¸ªå±…æ°‘
friend1 = null; // friend1ä¹Ÿå¿˜è®°äº†
friend2 = null; // friend2ä¹Ÿå¿˜è®°äº†
// å±…æ°‘å¤±å»äº†ä¸»äººï¼Œæ²¡äººè®°å¾—å®ƒäº†
```

#### ğŸ§¹ ç¬¬å››ç« ï¼šæ”¶å®¹æ‰€çš„"å¤§æ‰«é™¤"
**æ¸…ç†æ—¶æœºï¼š**
- æ”¶å®¹æ‰€å¿«æ»¡äº†ï¼ˆå†…å­˜ä¸è¶³ï¼‰
- ç®¡ç†å‘˜æœ‰ç©ºæ—¶ï¼ˆç³»ç»Ÿç©ºé—²ï¼‰
- æœ‰äººå»ºè®®æ¸…ç†æ—¶ï¼ˆ`System.gc()`ï¼‰

**æ¸…ç†è¿‡ç¨‹ï¼š**
1. ç®¡ç†å‘˜å·¡æŸ¥ï¼š"è°å¤±å»äº†ä¸»äººï¼Ÿ"
2. æ‰¾åˆ°æ‰€æœ‰è¢«é—å¿˜çš„å±…æ°‘
3. æ¸…ç†ä»–ä»¬çš„æˆ¿é—´
4. æ•´ç†æ”¶å®¹æ‰€ï¼Œä¸ºæ–°å±…æ°‘è…¾å‡ºç©ºé—´

#### â™»ï¸ ç¬¬äº”ç« ï¼šæˆ¿é—´çš„"é‡æ–°åˆ©ç”¨"
- æ¸…ç†å‡ºçš„æˆ¿é—´å¯ä»¥ç»™æ–°å±…æ°‘ä½¿ç”¨
- æ”¶å®¹æ‰€å®ç°äº†"å¯æŒç»­å‘å±•"
- é¿å…äº†"æ— å®¶å¯å½’"çš„é—®é¢˜ï¼ˆå†…å­˜æ³„æ¼ï¼‰

### ğŸ¯ æ ¸å¿ƒå‘ç°

é€šè¿‡è¿™ä¸ª"ç”Ÿæ´»æ•…äº‹"ï¼Œæˆ‘ä»¬ç†è§£äº†ï¼š
1. **å¯¹è±¡çš„ç”Ÿæ­»** = æ˜¯å¦è¿˜æœ‰"æœ‹å‹"è®°å¾—å®ƒ
2. **åƒåœ¾å›æ”¶** = æ”¶å®¹æ‰€çš„å®šæœŸ"å¤§æ‰«é™¤"
3. **å†…å­˜ç®¡ç†** = æˆ¿é—´çš„å¾ªç¯åˆ©ç”¨ç³»ç»Ÿ

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µæ€»ç»“

é€šè¿‡ä¸‰ä¸ªå®éªŒï¼Œæˆ‘ä»¬å‘ç°äº†JVMå†…å­˜ç®¡ç†çš„ä¸‰ä¸ªé‡è¦è§„å¾‹ï¼š

### ğŸ“‹ å®éªŒæ€»ç»“

| å®éªŒ | ç°è±¡ | å‘ç° |
|------|------|------|
| å®éªŒä¸€ | å¯¹è±¡ä¼š"æ¶ˆå¤±" | å¤±å»"ä¸»äºº"(å¼•ç”¨)çš„å¯¹è±¡ä¼šè¢«è‡ªåŠ¨æ¸…ç† |
| å®éªŒäºŒ | æœ‰"ä¸»äºº"çš„å¯¹è±¡ä¸æ¶ˆå¤± | è¢«å˜é‡å¼•ç”¨çš„å¯¹è±¡ä¼šä¸€ç›´å­˜åœ¨ |
| å®éªŒä¸‰ | "æ”¶å®¹æ‰€"è£…æ»¡ä¼šæŠ¥é”™ | å†…å­˜æœ‰é™ï¼Œè¶…å‡ºé™åˆ¶ä¼šæŠ›å‡ºå¼‚å¸¸ |

### ğŸ”‘ æ ¸å¿ƒè®¤çŸ¥

#### 1. å¯¹è±¡çš„"ç”Ÿæ­»æ³•åˆ™"
```
æœ‰å¼•ç”¨ = æ´»ç€
æ— å¼•ç”¨ = æ­»äº¡
```
- å¯¹è±¡çš„ç”Ÿæ­»å®Œå…¨å–å†³äºæ˜¯å¦è¿˜æœ‰"æœ‹å‹"(å¼•ç”¨)è®°å¾—å®ƒ
- è¿™æ˜¯Javaå†…å­˜ç®¡ç†çš„åŸºæœ¬è§„åˆ™

#### 2. JVMçš„"è‡ªåŠ¨ç®¡å®¶"æœåŠ¡
- **è‡ªåŠ¨æ¸…ç†**ï¼šJVMä¼šè‡ªåŠ¨æ¸…ç†"æ— ä¸»"å¯¹è±¡
- **å¾ªç¯åˆ©ç”¨**ï¼šæ¸…ç†å‡ºçš„ç©ºé—´å¯ä»¥é‡æ–°ä½¿ç”¨
- **æ™ºèƒ½æ—¶æœº**ï¼šåœ¨åˆé€‚çš„æ—¶å€™è¿›è¡Œæ¸…ç†

#### 3. å†…å­˜çš„"å¯æŒç»­å‘å±•"
- **æœ‰é™èµ„æº**ï¼šå†…å­˜ç©ºé—´æ˜¯æœ‰é™çš„
- **å¾ªç¯ä½¿ç”¨**ï¼šé€šè¿‡åƒåœ¾å›æ”¶å®ç°å¾ªç¯åˆ©ç”¨
- **è‡ªåŠ¨ä¿æŠ¤**ï¼šè¶…å‡ºé™åˆ¶æ—¶ä¼šåŠæ—¶æŠ¥è­¦

### ğŸ’¡ ç¼–ç¨‹å¯ç¤º

1. **ä¸ç”¨æ‹…å¿ƒå†…å­˜æ³„æ¼**ï¼šJVMä¼šè‡ªåŠ¨æ¸…ç†åƒåœ¾
2. **æ³¨æ„å¼•ç”¨ç®¡ç†**ï¼šåŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„å¼•ç”¨
3. **ç†è§£å†…å­˜é™åˆ¶**ï¼šåˆç†ä½¿ç”¨å†…å­˜èµ„æº

### ğŸ“‹ ä¸€ä¸ªå¯¹è±¡çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ

1. **è¯ç”Ÿ**ï¼šnewå…³é”®å­—åœ¨å †å†…å­˜ä¸­åˆ›å»ºå¯¹è±¡
2. **ç”Ÿå­˜**ï¼šè¢«å˜é‡å¼•ç”¨ï¼Œå‚ä¸ç¨‹åºé€»è¾‘
3. **å¤±å»å¼•ç”¨**ï¼šå˜é‡è¶…å‡ºä½œç”¨åŸŸæˆ–è¢«èµ‹å€¼ä¸ºnull
4. **æˆä¸ºåƒåœ¾**ï¼šæ— æ³•é€šè¿‡ä»»ä½•è·¯å¾„è®¿é—®
5. **è¢«æ ‡è®°**ï¼šåƒåœ¾å›æ”¶å™¨è¯†åˆ«ä¸ºåƒåœ¾
6. **è¢«å›æ”¶**ï¼šå†…å­˜ç©ºé—´è¢«é‡Šæ”¾
7. **é‡æ–°åˆ©ç”¨**ï¼šå†…å­˜ç©ºé—´ä¾›æ–°å¯¹è±¡ä½¿ç”¨

## è¯¾åæ€è€ƒé¢˜

### ğŸ”¬ åŠ¨æ‰‹å®éªŒé¢˜

1. **"æ”¶å®¹æ‰€ç®¡ç†å‘˜"å®éªŒ**
   - ä¿®æ”¹ObjectDisappear.javaï¼Œåˆ›å»ºä¸åŒå¤§å°çš„"å±…æ°‘"(å¯¹è±¡)
   - è§‚å¯Ÿï¼šå¤§"å±…æ°‘"å’Œå°"å±…æ°‘"çš„æ¸…ç†æ—¶æœºæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ

2. **"æ°¸ä¹…å±…æ°‘"å®éªŒ**
   - è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œè®©æŸäº›å¯¹è±¡æˆä¸º"æ°¸ä¹…å±…æ°‘"(æ°¸è¿œä¸è¢«å›æ”¶)
   - æ€è€ƒï¼šä»€ä¹ˆæ ·çš„å¯¹è±¡ä¼šæˆä¸º"æ°¸ä¹…å±…æ°‘"ï¼Ÿ

3. **"æ”¶å®¹æ‰€å‹åŠ›æµ‹è¯•"**
   - é€æ­¥å¢åŠ "å±…æ°‘"æ•°é‡ï¼Œè§‚å¯Ÿ"ç®¡ç†å‘˜"(JVM)çš„æ¸…ç†é¢‘ç‡
   - å‘ç°ï¼šå‹åŠ›è¶Šå¤§ï¼Œæ¸…ç†è¶Šé¢‘ç¹å—ï¼Ÿ

### ğŸ§ ç°è±¡è§‚å¯Ÿé¢˜

1. **æ¸…ç†æ—¶æœºçš„ç§˜å¯†**
   - ä¸ºä»€ä¹ˆ"ç®¡ç†å‘˜"ä¸æ˜¯ç«‹å³æ¸…ç†"æ— ä¸»"å¯¹è±¡ï¼Ÿ
   - ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘"å¤§æ‰«é™¤"ï¼Ÿ

2. **"æœ‹å‹åœˆ"çš„å½±å“**
   - ä¸€ä¸ªå¯¹è±¡çš„"æœ‹å‹"è¶Šå¤šï¼Œæ˜¯å¦è¶Šä¸å®¹æ˜“è¢«æ¸…ç†ï¼Ÿ
   - å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦çœŸçš„å¤±å»äº†ä¸»äººï¼Ÿ

3. **"æ”¶å®¹æ‰€"çš„æ•ˆç‡**
   - å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç¨‹åºæ˜¯"æ”¶å®¹æ‰€"çš„å¥½å±…æ°‘ï¼Ÿ
   - ä»€ä¹ˆè¡Œä¸ºä¼šè®©"æ”¶å®¹æ‰€"ä¸å ªé‡è´Ÿï¼Ÿ

### ğŸ’­ æ·±åº¦æ€è€ƒé¢˜

1. **"æœ‹å‹å…³ç³»"çš„å¤æ‚æ€§**
   - å¦‚æœå¯¹è±¡Aå¼•ç”¨å¯¹è±¡Bï¼Œå¯¹è±¡Bä¹Ÿå¼•ç”¨å¯¹è±¡Aï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
   - "ç®¡ç†å‘˜"å¦‚ä½•å¤„ç†è¿™ç§"äº’ç›¸ä¾èµ–"çš„å…³ç³»ï¼Ÿ

2. **"ç®¡ç†å‘˜"çš„æ™ºæ…§**
   - JVMæ˜¯å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰"æ— ä¸»"å¯¹è±¡çš„ï¼Ÿ
   - æœ‰æ²¡æœ‰å¯èƒ½"ç®¡ç†å‘˜"åˆ¤æ–­é”™è¯¯ï¼Œæ¸…ç†äº†ä¸è¯¥æ¸…ç†çš„å¯¹è±¡ï¼Ÿ

3. **"æ”¶å®¹æ‰€"çš„æœªæ¥**
   - éšç€ç¨‹åºè¿è¡Œæ—¶é—´å¢é•¿ï¼Œ"æ”¶å®¹æ‰€"çš„ç®¡ç†ä¼šè¶Šæ¥è¶Šå›°éš¾å—ï¼Ÿ
   - å¦‚ä½•è®¾è®¡æ›´æ™ºèƒ½çš„"ç®¡ç†å‘˜"ï¼Ÿ

## ğŸ”® ä¸‹èŠ‚é¢„å‘Šï¼š"ç®¡ç†å‘˜"çš„å·¥ä½œç§˜ç±

é€šè¿‡è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬è®¤è¯†äº†JVMè¿™ä½"æ”¶å®¹æ‰€ç®¡ç†å‘˜"ï¼ŒçŸ¥é“äº†å®ƒä¼šè‡ªåŠ¨æ¸…ç†"æ— ä¸»"å¯¹è±¡ã€‚ä½†æ˜¯ä½ æœ‰æ²¡æœ‰å¥½å¥‡ï¼š

### ğŸ¤” ç®¡ç†å‘˜çš„å·¥ä½œéš¾é¢˜

æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ æ˜¯è¿™ä½"ç®¡ç†å‘˜"ï¼Œé¢å¯¹ä¸€ä¸ªæœ‰å‡ ä¸‡ç”šè‡³å‡ åä¸‡"å±…æ°‘"çš„å·¨å¤§æ”¶å®¹æ‰€ï¼š

- **ğŸ” å¯»æ‰¾éš¾é¢˜**ï¼šå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰çš„"æ— ä¸»å¯¹è±¡"ï¼Ÿ
- **â° æ—¶æœºéš¾é¢˜**ï¼šä»€ä¹ˆæ—¶å€™è¿›è¡Œ"å¤§æ‰«é™¤"æœ€åˆé€‚ï¼Ÿ
- **ğŸƒ æ•ˆç‡éš¾é¢˜**ï¼šå¦‚ä½•åœ¨ä¸å½±å“"å±…æ°‘"æ­£å¸¸ç”Ÿæ´»çš„æƒ…å†µä¸‹æ¸…ç†ï¼Ÿ
- **ğŸ§© å¤æ‚å…³ç³»éš¾é¢˜**ï¼šå¦‚ä½•å¤„ç†"å±…æ°‘"ä¹‹é—´å¤æ‚çš„"æœ‹å‹å…³ç³»"ï¼Ÿ

### ğŸ¯ ä¸‹èŠ‚è¯¾æ­ç§˜

**ç¬¬å››è¯¾ï¼šã€Šç®¡ç†å‘˜çš„æ™ºæ…§ - åƒåœ¾å›æ”¶ç­–ç•¥å¤§æ­ç§˜ã€‹**

æˆ‘ä»¬å°†é€šè¿‡å®éªŒå‘ç°ï¼š
1. **"ä¾¦æ¢"ç®—æ³•**ï¼šç®¡ç†å‘˜å¦‚ä½•åƒä¾¦æ¢ä¸€æ ·æ‰¾åˆ°"æ— ä¸»å¯¹è±¡"ï¼Ÿ
2. **"æ¸…ç†"ç­–ç•¥**ï¼šä¸åŒçš„æ¸…ç†æ–¹æ³•æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ
3. **"æ—¶é—´ç®¡ç†"**ï¼šå¦‚ä½•å¹³è¡¡æ¸…ç†æ•ˆç‡å’Œ"å±…æ°‘"ä½“éªŒï¼Ÿ

### ğŸ’­ è¯¾å‰æ€è€ƒ

å¦‚æœè®©ä½ è®¾è®¡ä¸€å¥—"æ”¶å®¹æ‰€ç®¡ç†ç³»ç»Ÿ"ï¼Œä½ ä¼šï¼š
- å¤šä¹…æ£€æŸ¥ä¸€æ¬¡"æ— ä¸»å¯¹è±¡"ï¼Ÿ
- ç”¨ä»€ä¹ˆæ–¹æ³•å¿«é€Ÿè¯†åˆ«"æ— ä¸»å¯¹è±¡"ï¼Ÿ
- å¦‚ä½•è®©æ¸…ç†å·¥ä½œä¸å½±å“"å±…æ°‘"çš„æ­£å¸¸ç”Ÿæ´»ï¼Ÿ

---

**ğŸŒŸ è®°ä½ï¼šç†è§£äº†å¯¹è±¡çš„"ç”Ÿä¸æ­»"ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ç†è§£"ç®¡ç†å‘˜"çš„å·¥ä½œæ™ºæ…§ï¼**